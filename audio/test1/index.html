<h1>Audio Test 1</h1>

<script>
	
var musicBuffer = null;
var audioCtx = new webkitAudioContext();

function loadSound(url, button) {
	var request = new XMLHttpRequest();
	request.open('GET', url, true);
	request.responseType = 'arraybuffer';

	request.onload = function() {
		audioCtx.decodeAudioData(request.response, function(buffer) {
			playSound(buffer);
			button.innerHTML = 'playing';
		}, function(e){
			console.log(e);
		});
	}
	
	button.innerHTML = 'loading';
	request.send();
	
}

function playSound(buffer) {
	var source = audioCtx.createBufferSource(); // creates a sound source
	source.buffer = buffer;                    // tell the source which sound to play
	source.connect(audioCtx.destination);       // connect the source to the context's destination (the speakers)
	source.noteOn(0);                          // play the source now
}
</script>

<button onclick="loadSound('../BigBillBroonzy-BabyPleaseDontGo1.mp3', this );">Play BigBillBroonzy-BabyPleaseDontGo</button>
